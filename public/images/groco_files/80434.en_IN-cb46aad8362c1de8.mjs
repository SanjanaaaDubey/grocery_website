"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[80434],{984234:(e,i,s)=>{s.d(i,{Z:()=>o});var a=s(624797);function r(e,i,s){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s,e}let n={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},ideaPinExtendVideoLength:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinExtendVideoLengthAboveTwoMin:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration_above_two_min",groups:/^(employees_min|enabled_min)/,scenarios:["story_pin_v2"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!!e?.video_upload_allowed,authOnly:!0,hasCustomEnabledCheck:()=>!0,orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinInstantImagePublish:{authOnly:!0,experiment:"web_snc_instant_image_publishing",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinCreationWithoutThinking:{authOnly:!0,experiment:"web_snc_pin_creation_without_thinking",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]}},t=new class{constructor(){r(this,"_experiments",null),r(this,"_viewer",null),r(this,"_advertiser",null),r(this,"_scenario",null),r(this,"_language",null),r(this,"_context",null),r(this,"_orbacActingAs",null)}initialize(e){let{requestContext:i,viewer:s,location:r,advertiser:n,scenario:t,orbacActingAs:o}=e;this._context=e,this._experiments=i.experimentsClient,this._language=i.language,this._viewer=s,this._advertiser=n,this._orbacActingAs=o;let{adCreate:_}=(0,a.mB)(r.search);t?this._scenario=t:_?this._scenario="ad_creation":this._scenario="default"}scenario(){return this._scenario}enabled(e){if(!this._viewer||!this._experiments)return!1;let{advertisers:i,authOnly:s,customEnabledCheck:a,experiment:r,groups:t=/.*/,hasCustomEnabledCheck:o,languages:_,orbacDisabled:l,orbacExperiment:d,partnerOnly:g,scenarios:c,skipActivation:h}=n[e],m=!!this._orbacActingAs?.id&&this._orbacActingAs.id!==this._viewer.id;if(m&&(l||d&&"enabled"!==this._experiments.checkExperiment(d).group))return!1;if(o&&a&&this._context&&o(this._context))return!!this._context&&a(this._context);if(h&&this._experiments){let{checkExperiment:e}=this._experiments;return!!r&&e(r,{dangerouslySkipActivation:!0}).anyEnabled}return!!i&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!s||!!this._viewer.isAuth)&&(!this._viewer||!g||!!this._viewer.isPartner)&&(!c||!!c.includes(this._scenario))&&(!_||!!_.includes(this._language))&&(!r||t.test(this._experiments?.checkExperiment(r).group||""))}getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;let{experiment:i}=n[e];if(i){let{group:e}=this._experiments.checkExperiment(i);return e}return null}},o=t},478492:(e,i,s)=>{s.d(i,{P7:()=>r,Zx:()=>o,sc:()=>t,ss:()=>n,xl:()=>a});let a=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],r=["bmp","gif","jpg","jpeg","png","tiff","webp"],n=["video/mp4","video/x-m4v","video/quicktime"],t=["mp4","m4v","mov"],o={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},622270:(e,i,s)=>{s.d(i,{Z:()=>o});var a=s(339001),r=s(203966),n=s(984234);let t=(e,i)=>i.nbt(["pixel", "pixels"], e, "pinBuilder.errorMessaging.pixel", true);function o(e,i,s,o,_){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:s,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:i.bt("Your upload failed because it is in the wrong format.", "Your upload failed because it's the wrong format.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:s,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:i.bt("This image is too large and can't be uploaded. Please try a smaller image size.", "This image is too large and can't be uploaded. Please try a smaller image size.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":let[l,d]=n.Z.enabled("pinQuality")||_?.isStoryPin?[300,200]:[100,100],g=(0,a.nk)(i.bt("This image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.", "Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.", "vip.errorMessaging.minImageMessage", undefined, true),{minHeight:l,minWidth:d,pixelString:t(d,i)}).join("");return{dispatchId:s,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:g,blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":let c=(0,a.nk)(i.nbt(["This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}} MB", "This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}} MB"], 20, "vip.errorMessaging.message", true),{max_size_mb:20}).join("");return{dispatchId:s,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:c,blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:s,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:i.bt("This image type is invalid â€“ please make sure the image is natively .jpg or .png", "This image type is invalid - please make sure the image is natively .jpg or .png", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":let h=(0,a.nk)(i.nbt(["This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel", "This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels"], 100, "vip.errorMessaging.message", true),{min_size_video:100}).join("");return{dispatchId:s,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:h,blocking:!0};case"VIDEO_BELOW_MIN_DURATION":let m=Math.floor(4),p=(0,a.nk)(i.nbt(["This video is too short and cannot be uploaded. Videos cannot be shorter than {{minVideoLengthSeconds}} second.", "This video is too short and cannot be uploaded. Videos cannot be shorter than {{minVideoLengthSeconds}} seconds."], m, "vip.errorMessaging.message", true),{minVideoLengthSeconds:m}).join("");return{dispatchId:s,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:p,blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":let u=r.W_,E=(0,a.nk)(i.nbt(["This video is too short and cannot be uploaded. Videos cannot be shorter than {{minStoryPinVideoLengthSeconds}} second.", "This video is too short and cannot be uploaded. Videos cannot be shorter than {{minStoryPinVideoLengthSeconds}} seconds."], u, "vip.errorMessaging.storyPinVideoBelowMin.message", true),{minStoryPinVideoLengthSeconds:u}).join("");return{dispatchId:s,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:E,blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:s,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:i.bt("The video's cover image must have the same dimensions as the video itself", "The video's cover image must be of the same dimensions as the video itself", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:s,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:i.bt("Your upload failed for some reason. Please try again.", "Hmm, your upload failed for some reason. Please try again.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_OVER_MAX_DURATION":let O=(0,a.nk)(i.nbt(["This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minute.", "This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minutes."], 15, "vip.errorMessaging.message", true),{max_video_length_minutes:15}).join("");return{dispatchId:s,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:O,blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":let I=(0,a.nk)(i.bt("This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_seconds}} seconds.", "This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_seconds}} seconds.", "vip.errorMessaging.message", undefined, true),{max_video_length_seconds:Math.floor(r.P9)}).join("");return{dispatchId:s,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:I,blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":let b=Math.floor(r.FH)/60,v=(0,a.nk)(i.bt("This video is too long and cannot be uploaded. Videos cannot be longer than {{duration}} minutes.", "This video is too long and can't be uploaded. Videos can't be longer than {{duration}} minutes.", "vip.errorMessaging.storyPinMaxTimeLimit", undefined, true),{duration:b}).join("");return{dispatchId:s,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:v,blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":let N=Math.floor(o??r.FH)/60,y=(0,a.nk)(i.bt("This video is too long and cannot be uploaded. Videos cannot be longer than {{duration}} minutes.", "This video is too long and can't be uploaded. Videos can't be longer than {{duration}} minutes.", "vip.errorMessaging.storyPinMaxTimeLimit", undefined, true),{duration:N}).join("");return{dispatchId:s,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN",type:"error",message:y,blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":let A=(0,a.nk)(i.nbt(["This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}} GB.", "This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}} GB."], 2, "vip.errorMessaging.message", true),{max_video_size_gb:2}).join("");return{dispatchId:s,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:A,blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let e=r.Lr/1024/1024,n=(0,a.nk)(i.nbt(["This video is too large and cannot be uploaded. Videos cannot be larger than {{maxVideoFileSize}} MB.", "This video is too large and cannot be uploaded. Videos cannot be larger than {{maxVideoFileSize}} MB."], e, "vip.errorMessaging.message", true),{maxVideoFileSize:e}).join("");return{dispatchId:s,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:n,blocking:!0}}case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:i.bt("This video isn't encoded in H.264", "This video isn't encoded in H.264", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:i.bt("This video isn't encoded in H.264 or H.265. Please use Safari if you want to upload ProRes videos.", "This video isn't encoded in H.264 or H.265. Please use Safari if you want to upload ProRes videos.", "vip.errorMessaging.message.chrome", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:i.bt("This video isn't encoded in H.264. Please use Safari if you want to upload H.265 or ProRes videos.", "This video isn't encoded in H.264. Please use Safari if you want to upload H.265 or ProRes videos.", "vip.errorMessaging.message.firefox", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:i.bt("This video isn't encoded in H.264 or H.265 or ProRes.", "This video isn't encoded in H.264 or H.265 or ProRes.", "vip.errorMessaging.message.safari", undefined, true),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:s,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:i.bt("This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.", "This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.", "vip.errorMessaging.message", undefined, true),blocking:!0};default:return{dispatchId:s,id:"GENERAL_ERROR",type:"error",message:i.bt("Something went wrong. Please try again.", "Hmm, something went wrong. Please try again.", "vip.errorMessaging.message", undefined, true),blocking:!0}}}},744627:(e,i,s)=>{s.d(i,{Z:()=>o});var a=s(172045),r=s(622270),n=s(354185);let t=e=>i=>{i((0,r.Z)((0,n.Z)(),e))},o=e=>i=>new Promise((s,r)=>{let n=new FileReader,o=window.navigator?.userAgent||"",_=o.includes("Safari"),l=_?i.slice(0,i.size,"video/mp4"):i,d=URL.createObjectURL(l);n.addEventListener("load",()=>{let n=document.createElement("video");n.addEventListener("loadedmetadata",()=>s({id:(0,a.Z)(),duration:n.duration,fileSrc:i,height:n.videoHeight,name:i.name,size:i.size,src:n.src,thumbnail:0,type:"localVideo",width:n.videoWidth})),n.addEventListener("error",()=>t(e)(r)),n.src=d}),n.readAsDataURL(i)})},354185:(e,i,s)=>{s.d(i,{Z:()=>a});function a(){let e=window.navigator?.userAgent||"";if(e.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(e.includes("SamsungBrowser")||e.includes("Opera")||e.includes("OPR")||e.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(e.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80434.en_IN-cb46aad8362c1de8.mjs.map